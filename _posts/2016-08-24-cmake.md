---
layout: post
title: CMake
categories: linux
---

## Overview

**CMake** is cross-platform free and open-source software for managing the build process of software using a compiler-independent method. It is designed to support directory hierarchies and applications that depend on multiple libraries. It is used in conjunction with native build environments such as make, Apple's Xcode, and Microsoft Visual Studio. It has minimal dependencies, requiring only a C++ compiler on its own build system.

![CMake Process](http://img2.tuicool.com/UFR7Nf.png!web)

![CMake File Structure](http://tech.uc.cn/wp-content/uploads/2013/04/cmakedir.png)

## Features

- Manage complex, large build environments
- Flexible and extensible
    * Support macros
    * Modules for finding/configuring software
    * Extend for new platforms and languages
    * Create custom targets/commands
    * Run external programs
- Simple, intuitive syntax
- Support regular expression
- Support "In-Source" and "Out-of-Source" builds
- Support cross compiling
- Integrated testing and packaging (CTest, CPack)


## Build Process

![CMake Workflow](http://blog.aplikacja.info/wp-content/uploads/2016/01/cmake_workflow1.png)

The build process with CMake takes place in two stages. First, standard build files are created from configuration files. Then the platform's native build tools are used for the actual building.

Each build project contains a CMakeLists.txt file in every directory that controls the build process. The CMakeLists.txt file has one or more commands in the form COMMAND (args...), with COMMAND representing the name of each command and args the list of arguments, each separated by white space. While there are many built-in rules for compiling the software libraries (static and dynamic) and executables, there are also provisions for custom build rules. Some build dependencies can be determined automatically. Advanced users can also create and incorporate additional makefile generators to support their specific compiler and OS needs.

## CMake vs GNU `autotools`

![gnu autotools](https://i.ytimg.com/vi/4q_inV9M_us/maxresdefault.jpg)

![gnu autotools process](http://tech.uc.cn/wp-content/uploads/2013/04/gnuautotools.png)

> http://www.tuicool.com/articles/nuqmee

## Other Build System

- GNU `make`
- GNU `autotools`
- Rake
- Maven
- Ant
- QMake

> https://bengarney.com/2012/08/26/some-thoughts-on-build-systems/

> https://www.sitepoint.com/comparison-build-systems/

## Reference

- https://cmake.org
- https://cmake.org/cmake/help/v3.0/manual/cmake-buildsystem.7.html
- https://en.wikipedia.org/wiki/CMake
- http://www.slideshare.net/zeng724/c-make-tutorial-11029201
- http://blog.aplikacja.info/blog/2016/01/22/cmake-very-basic-tutorial/
- http://stackoverflow.com/questions/4071880/autotools-vs-cmake-vs-scons
- https://bitbucket.org/scons/scons/wiki/SconsVsOtherBuildTools
- http://stackoverflow.com/questions/5837764/autotools-vs-cmake?rq=1
- http://www.elpauer.org/stuff/learning_cmake.pdf
- http://www.visgraf.impa.br/seminar/slides/rodlima_cmake_presentation.pdf
